@page "/checkout"
@inject ICartService _cartService
@inject IOrderService _orderService
@inject IBreadcrumbService _breadcrumbService
@inject NavigationManager _navigationManager

<div class="breadcrumbs-container">
    <ul class="breadcrumbs">
        @foreach (var breadcrumb in _breadcrumbService.Breadcrumbs)
        {
            <li class="breadcrumb-item"><a href="@breadcrumb.Link">@breadcrumb.Label</a></li>
        }
    </ul>
</div>
<MudContainer Class="page-container">
    <div style="padding-top: 5%;">
        <MudGrid>
            <MudItem xs="12" md="6">
                <MudPaper Class="mud-p-2">
                    <div class="delivery-info">
                        <h2 style="padding-left: 5%; padding-top: 5%;">Delivery Information</h2>
                        <MudForm Model="deliveryInfo" Style="padding-right: 5%; padding-left: 5%;">
                            <MudTextField Label="First name" @bind-Value="deliveryInfo.FirstName" Required="true" />
                            <MudTextField Label="Last name" @bind-Value="deliveryInfo.LastName" Required="true" />
                            <MudTextField Label="Phone Number" @bind-Value="deliveryInfo.PhoneNumber" Required="true" InputType="InputType.Telephone" />
                            <MudTextField Label="Street" @bind-Value="deliveryInfo.Street" Required="true" />
                            <MudTextField Label="City" @bind-Value="deliveryInfo.City" Required="true" />
                            <MudTextField Label="State" @bind-Value="deliveryInfo.State" Required="true" />
                            <MudTextField Label="Country" @bind-Value="deliveryInfo.Country" Required="true" />
                            <MudTextField Label="Zip-code" @bind-Value="deliveryInfo.ZipCode" Required="true" />
                            @*                             <MudRadioGroup @bind-SelectedOption="@selectedDeliveryMethod">
                            <MudRadio  Value="ToDoor">To-Door Delivery</MudRadio>
                            <MudRadio Value="Pickup">Pickup from Store</MudRadio>
                            </MudRadioGroup> *@

                        </MudForm>
                    </div>
                </MudPaper>
            </MudItem>
            <MudItem xs="12" md="6">
                <MudPaper Class="mud-p-2">
                    <div class="order-summary">
                        <h2 style="padding-left: 5%; padding-top: 5%;">Order Summary</h2>
                        <MudTable Items="addedCartItems">
                            <HeaderContent>
                                <MudTh>Product</MudTh>
                                <MudTh>Quantity</MudTh>
                                <MudTh>Price</MudTh>
                                <MudTh>Subtotal</MudTh>
                            </HeaderContent>
                            <RowTemplate>
                                <MudTd>@context.Name</MudTd>
                                <MudTd>@context.Quantity</MudTd>
                                <MudTd>@context.Price</MudTd>
                                <MudTd>$@(context.Price * context.Quantity)</MudTd>
                                </RowTemplate>
                            </MudTable>
                        </div>
                    </MudPaper>
                    <MudButton Style="margin-top: 5%;" ButtonType="ButtonType.Submit" Variant="Variant.Filled" OnClick="PlaceOrder">Confirm Order</MudButton>
                </MudItem>
            </MudGrid>
        </div>
    </MudContainer>
